{"version":3,"sources":["images/planet.svg","components/Home.js","components/Navbar.js","components/Footer.js","helpers/parseWaypoints.js","components/MapRender.js","components/CurrentLocation.js","components/HomeLocation.js","components/Search.js","components/RecentSearches.js","components/JourneySelector.js","components/Login.js","components/SingleSearch.js","components/Register.js","App.js","index.js"],"names":["Home","history","useHistory","id","className","src","planetImage","alt","onClick","push","Navbar","loggedIn","setLoggedIn","useEffect","localStorage","token","to","removeItem","Footer","href","target","rel","parseWaypoints","leg","coords","JSON","parse","path","lineString","map","x","t","reverseCoords","dotenv","config","MapRender","journey","mapContainer","useRef","mapboxgl","accessToken","process","data","lineColours","legs","forEach","Map","container","current","style","center","LngLat","zoom","on","length","legWaypoints","index","addSource","addLayer","mode","bounds","LngLatBounds","coordSet","coord","extend","fitBounds","padding","homeCoords","a","decodedJwt","jwt","decode","userId","sub","axios","get","home","homeMarker","features","feature","document","createElement","Marker","setLngLat","geometry","coordinates","setPopup","Popup","offset","setHTML","properties","title","description","addTo","console","log","getHomeLocation","remove","ref","CurrentLocation","currentLocation","setCurrentLocation","setSearchTerm","setOrigin","navigator","geolocation","getCurrentPosition","position","originData","longitude","latitude","text","HomeLocation","homeLocation","setHomeLocation","Search","origin","destination","setDestination","setJourneyOptions","setRecentSearches","recentSearches","useState","searchTerm","originSearchDisplay","setOriginSearchDisplay","destinationSearchDisplay","setDestinationSearchDisplay","searchResults","setSearchResults","lastSearched","setLastSearched","handleSearch","postcodeSearch","pcText","result","postcode","pcCenter","pcAddress","parliamentary_constituency","postcodeResult","address","context","handleInput","e","term","value","journeys","journeyToSave","origin_string","destination_string","post","headers","Authorization","request","responseText","getJourneyPlanner","setLocations","dataset","key","place","innerHTML","type","placeholder","disabled","onInput","autoComplete","i","data-key","RecentSearches","getRecentSearches","reverseChronSearches","reverse","slice","name","onChange","selectedOption","options","selectedIndex","defaultValue","search","data-index","JourneySelector","journeyOptions","setJourney","selectJourney","journeyId","journeyid","allJourneys","parentNode","children","classList","add","j","data-journeyid","duration","l","departurePoint","commonName","distance","toFixed","routeOptions","bus","stopPoints","Login","setUserHome","formData","setFormData","handleSubmit","preventDefault","message","setItem","errorMessage","onSubmit","locationSearchDisplay","setLocationSearchDisplay","homeName","Register","SingleSearch","App","exact","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.5ffa8276.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/planet.e81a55ef.svg\";","import React from 'react'\r\nimport planetImage from '../images/planet.svg'\r\nimport { useHistory } from 'react-router-dom'\r\n\r\nconst Home = () => {\r\n\r\n  const history = useHistory()\r\n\r\n  const redirect = () => {\r\n    history.push('/search')\r\n  }\r\n\r\n  return (\r\n    <div id=\"homeWrapper\">\r\n      <div className=\"image-container\">\r\n        <img src={planetImage} alt=\"planet with telescope\" />\r\n      </div>\r\n      <div className=\"text-container\">\r\n        <h1><i className=\"fas fa-globe-europe\"></i> Journey Planet</h1>\r\n        <p>Sometimes traversing London can seem like a mission to Mars. Make your life simpler, quicker and hassle-free by planning your journeys ahead of time using real-time data and up-to-the-minute travel advice.</p>\r\n        <p>Before you make your journey, planet.</p>\r\n        <button onClick={redirect}>Plan Your Journey <i className=\"fas fa-chevron-right\"></i></button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Home","import React, { useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { useHistory } from 'react-router-dom'\r\n\r\nconst Navbar = ({ loggedIn, setLoggedIn }) => {\r\n\r\n  const history = useHistory()\r\n\r\n  useEffect(() => {\r\n    if (localStorage.token) {\r\n      setLoggedIn(true)\r\n    }\r\n  }, [setLoggedIn])\r\n\r\n  const logoutUser = () => {\r\n    localStorage.removeItem('token')\r\n    setLoggedIn(false)\r\n    history.push('/')\r\n  }\r\n\r\n  return (\r\n    <nav id=\"mainNavbar\">\r\n      <div className=\"navbar-brand\"><h2><Link to='/'><i className=\"fas fa-globe-europe\"></i><span className=\"navbar-text\"> Journey Planet</span></Link></h2></div>\r\n      <div className=\"navbar-nav\">\r\n        <ul>\r\n          { loggedIn ? \r\n            <li><a onClick={logoutUser}><i className=\"fas fa-sign-out-alt\"></i><span className=\"navbar-text\"> Logout</span></a></li>\r\n            :\r\n            <>\r\n              <li><Link to='/login'><i className=\"fas fa-sign-in-alt\"></i><span className=\"navbar-text\"> Login</span></Link></li>\r\n              <li><Link to='/register'><i className=\"fas fa-user-plus\"></i><span className=\"navbar-text\"> Register</span></Link></li>\r\n            </>\r\n          }\r\n          <li><Link to='/search'><i className=\"fas fa-map-signs\"></i><span className=\"navbar-text\"> New Journey</span></Link></li>\r\n        </ul>\r\n      </div>\r\n    </nav>\r\n  )\r\n}\r\n\r\nexport default Navbar","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <>\r\n      <div id='footerWrapper'>\r\n        <ul>\r\n          <li><Link to='/'>Home</Link></li>\r\n          <li><Link to='/search'>New Search</Link></li>\r\n          <li><a href='https://github.com/clemmurphy' target=\"_blank\" rel=\"noreferrer\">GitHub</a></li>\r\n          <li><a href='https://linkedin.com/in/clemmurphydev' target=\"_blank\" rel=\"noreferrer\">LinkedIn</a></li>\r\n        </ul>\r\n        <p>Made with ðŸš€ by Clement Murphy</p>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Footer","const parseWaypoints = (leg) => {\r\n  const coords = JSON.parse(leg.path.lineString)\r\n  const reverseCoords = (coords) => {\r\n    coords.map(x => {\r\n      const t = x[0]\r\n      x[0] = x[1]\r\n      x[1] = t\r\n      return x\r\n    })\r\n    return coords\r\n  }\r\n  reverseCoords(coords)\r\n  return coords\r\n}\r\n\r\nexport default parseWaypoints","import React, { useRef, useEffect } from 'react'\r\nimport mapboxgl from '!mapbox-gl'\r\nimport parseWaypoints from '../helpers/parseWaypoints'\r\nimport axios from 'axios'\r\nimport jwt from 'jsonwebtoken'\r\nimport dotenv from 'dotenv'\r\ndotenv.config()\r\n\r\nconst MapRender = ({ journey }) => {\r\n\r\n  const mapContainer = useRef(null)\r\n  mapboxgl.accessToken = process.env.REACT_APP_MAPBOX_ACCESS_TOKEN\r\n\r\n  let data = [51.508530, -0.076132]\r\n\r\n  const lineColours = {\r\n    'walking': '#FF8D2E',\r\n    'tube': '#00554E',\r\n    'bus': '#F478AA',\r\n    'national-rail': '#4677EC',\r\n    'tflrail': '#1BAE81',\r\n    'dlr': '#F478AA',\r\n  }\r\n\r\n  useEffect(() => {\r\n\r\n    // If there is a selected journey, process the waypoints\r\n    if (journey.legs) {\r\n      data = []\r\n      journey.legs.forEach((leg) => {\r\n        data.push(parseWaypoints(leg))\r\n      })\r\n    }\r\n\r\n    // Add and configure map \r\n    const map = new mapboxgl.Map({\r\n      container: mapContainer.current,\r\n      style: 'mapbox://styles/mapbox/streets-v11',\r\n      center: new mapboxgl.LngLat(-0.076132, 51.508530),\r\n      zoom: 8.3,\r\n    })\r\n\r\n    // On map load, add all the data to the map\r\n    map.on('load', () => {\r\n      // Add map lines for each leg of the journey\r\n      if (data[0].length > 0) {\r\n        data.forEach((legWaypoints, index) => {\r\n          // Add a new data source\r\n          map.addSource(`${legWaypoints[0][0]}`, {\r\n            'type': 'geojson',\r\n            'data': {\r\n              'type': 'Feature',\r\n              'properties': {},\r\n              'geometry': {\r\n                'type': 'LineString',\r\n                'coordinates': legWaypoints,\r\n              },\r\n            },\r\n          })\r\n          // Add styled lines\r\n          map.addLayer({\r\n            'id': `${legWaypoints[0][0]}`,\r\n            'type': 'line',\r\n            'source': `${legWaypoints[0][0]}`,\r\n            'layout': {\r\n              'line-join': 'round',\r\n              'line-cap': 'round',\r\n            },\r\n            'paint': {\r\n              'line-color': `${lineColours[journey.legs[index].mode.id]}`,\r\n              'line-width': 6,\r\n              'line-opacity': 0.8,\r\n            },\r\n          })\r\n        })\r\n        // Create a 'LngLatBounds' with both corners at the first coordinate\r\n        const bounds = new mapboxgl.LngLatBounds(\r\n          data[0][0],\r\n          data[0][0]\r\n        )\r\n        \r\n        // Extend the 'LngLatBounds' to include every coordinate in the bounds result\r\n        for (const coordSet of data) {\r\n          for (const coord of coordSet) {\r\n            bounds.extend(coord)\r\n          }\r\n        }\r\n        \r\n        map.fitBounds(bounds, {\r\n          padding: 20,\r\n        })\r\n      }\r\n\r\n      // If the user is logged in, get their home location\r\n      if (localStorage.token) {\r\n        let homeCoords = []\r\n        const getHomeLocation = async () => {\r\n          const decodedJwt = jwt.decode(localStorage.token)\r\n          const userId = decodedJwt.sub\r\n          try {\r\n            const { data } = await axios.get(`api/users/${userId}`)\r\n            homeCoords = data.home\r\n            const homeMarker = {\r\n              'type': 'FeatureCollection',\r\n              'features': [\r\n                {\r\n                  'type': 'Feature',\r\n                  'geometry': {\r\n                    'type': 'Point',\r\n                    'coordinates': homeCoords,\r\n                  },\r\n                  'properties': {\r\n                    'title': 'Home',\r\n                    'description': 'Your saved home',\r\n                  },\r\n                }\r\n              ],\r\n            }\r\n    \r\n            for (const feature of homeMarker.features) {\r\n              // create a HTML element for each feature\r\n              const home = document.createElement('div')\r\n              home.className = 'homeMarker'\r\n              // make a marker for each feature and add it to the map\r\n              new mapboxgl.Marker(home)\r\n                .setLngLat(feature.geometry.coordinates)\r\n                .setPopup(\r\n                  new mapboxgl.Popup({ offset: 25 }) // add popups\r\n                    .setHTML(\r\n                      `<h3>${feature.properties.title}</h3><p>${feature.properties.description}</p>`\r\n                    )\r\n                )\r\n                .addTo(map)\r\n            }\r\n          } catch (err) {\r\n            console.log(err)\r\n          }\r\n        }\r\n        getHomeLocation()\r\n      }\r\n    })\r\n\r\n    return () => map.remove()\r\n  }, [journey])\r\n\r\n  return (\r\n    <>\r\n      <div ref={mapContainer} className=\"map-container\" />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default MapRender","import React from 'react'\r\n\r\nconst CurrentLocation = ({ currentLocation, setCurrentLocation, setSearchTerm, setOrigin }) => {\r\n\r\n  const getCurrentLocation = () => {\r\n    if (navigator.geolocation) {\r\n      navigator.geolocation.getCurrentPosition(position => {\r\n        const originData = {\r\n          center: [position.coords.longitude, position.coords.latitude],\r\n          text: 'Your Location',\r\n        }\r\n        setCurrentLocation(originData.center)\r\n        setOrigin(originData)\r\n      })\r\n    } else {\r\n      console.log('Geolocation is not supported by this browser.')\r\n    }\r\n  }\r\n\r\n  const clearCurrentLocation = () => {\r\n    setCurrentLocation([])\r\n    setSearchTerm('')\r\n  }\r\n\r\n  return (\r\n    <div id=\"CurrentLocationWrapper\">\r\n      { currentLocation.length > 0 ? \r\n        <div className=\"location-dot-active\" onClick={clearCurrentLocation}><i className=\"fas fa-map-marker-alt\"></i></div>\r\n        :\r\n        <div className=\"location-dot\" onClick={getCurrentLocation}><i className=\"fas fa-map-marker-alt\"></i></div>\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CurrentLocation","import React from 'react'\r\nimport jwt from 'jsonwebtoken'\r\nimport axios from 'axios'\r\n\r\nconst HomeLocation = ({ homeLocation, setHomeLocation, setSearchTerm, setOrigin }) => {\r\n\r\n  const getHomeLocation = async () => {\r\n    if (localStorage.token) {\r\n      const decodedJwt = jwt.decode(localStorage.token)\r\n      const userId = decodedJwt.sub\r\n      try {\r\n        const { data } = await axios.get(`api/users/${userId}`)\r\n        setHomeLocation(data.home)\r\n        setOrigin({\r\n          center: data.home,\r\n          text: 'Home',\r\n        })\r\n        console.log('Home location:', data.home)\r\n      } catch (err) {\r\n        console.log(err)\r\n      }\r\n    } else {\r\n      console.log('Can\\'t find your home location!')\r\n    }\r\n  }\r\n\r\n  const clearHomeLocation = () => {\r\n    setHomeLocation([])\r\n    setSearchTerm('')\r\n  }\r\n\r\n  return (\r\n    <div id=\"HomeLocationWrapper\">\r\n      { homeLocation.length > 0 ? \r\n        <div className=\"location-dot-active\" onClick={clearHomeLocation}><i className=\"fas fa-home\"></i></div>\r\n        :\r\n        <div className=\"location-dot\" onClick={getHomeLocation}><i className=\"fas fa-home\"></i></div>\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default HomeLocation","/* eslint-disable no-unused-vars */\r\nimport React, { useState, useEffect } from 'react'\r\nimport axios from 'axios'\r\nimport CurrentLocation from './CurrentLocation'\r\nimport HomeLocation from './HomeLocation'\r\nimport dotenv from 'dotenv'\r\ndotenv.config()\r\n\r\nconst Search = ({ origin, setOrigin, destination, setDestination, setJourneyOptions, recentSearches, setRecentSearches }) => {\r\n\r\n  const [ searchTerm, setSearchTerm ] = useState('')\r\n  const [ originSearchDisplay, setOriginSearchDisplay ] = useState('')\r\n  const [ destinationSearchDisplay, setDestinationSearchDisplay ] = useState('')\r\n  const [ searchResults, setSearchResults ] = useState([])\r\n  const [ currentLocation, setCurrentLocation ] = useState([])\r\n  const [ homeLocation, setHomeLocation ] = useState([])\r\n  const [ lastSearched, setLastSearched ] = useState('')\r\n\r\n  // On page load clear search terms\r\n  useEffect(() => {\r\n    setSearchResults([])\r\n    setLastSearched('')\r\n    setOrigin(null)\r\n    setDestination(null)\r\n    setOriginSearchDisplay('')\r\n    setDestinationSearchDisplay('')\r\n    setHomeLocation([])\r\n    setCurrentLocation([])\r\n    setRecentSearches([])\r\n  }, [setSearchResults, setLastSearched, setOrigin, setDestination, setOriginSearchDisplay, setDestinationSearchDisplay, setRecentSearches])\r\n\r\n  // Search for place by entering a name\r\n  useEffect(() => {\r\n    const handleSearch = async () => {\r\n      if (searchTerm !== '') {\r\n        const { data } = await axios.get(`https://api.mapbox.com/geocoding/v5/mapbox.places/\r\n          ${searchTerm}.json?bbox=-0.489,51.28,0.236,51.686&types=poi,address,place&access_token=${process.env.REACT_APP_MAPBOX_ACCESS_TOKEN}`)\r\n        setSearchResults(data.features)\r\n      }\r\n    }\r\n    // Search by postcode and add to search results\r\n    const postcodeSearch = async () => {\r\n      const { data } = await axios.get(`https://api.postcodes.io/postcodes/${searchTerm}`)\r\n      const pcText = data.result.postcode\r\n      const pcCenter = [data.result.longitude, data.result.latitude]\r\n      const pcAddress = data.result.parliamentary_constituency\r\n      // Normalise results to search result object format\r\n      const postcodeResult = {\r\n        center: pcCenter,\r\n        text: pcText,\r\n        properties: {\r\n          address: pcAddress,\r\n        },\r\n        context: [\r\n          {\r\n            text: pcText,\r\n          }\r\n        ],\r\n      }\r\n      // Spread into search results\r\n      setSearchResults([...searchResults, postcodeResult])\r\n    }\r\n    handleSearch()\r\n    if (searchTerm.length > 5) {\r\n      postcodeSearch()\r\n    }\r\n  }, [searchTerm, setSearchResults])\r\n\r\n  // Handle search inputs\r\n  const handleInput = (e) => {\r\n    const term = e.target.value\r\n    setLastSearched(e.target.id)\r\n    setSearchTerm(term)\r\n    if (e.target.id === 'Origin') {\r\n      setOriginSearchDisplay(term)\r\n    } else if (e.target.id === 'Destination') {\r\n      setDestinationSearchDisplay(term)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    // If both results have center co-ords, search on TfL Journey Planner\r\n    if (origin && destination) {\r\n      const getJourneyPlanner = async () => {\r\n        // Get data from Journey Planner\r\n        try {\r\n          const { data } = await axios.get(`https://api.tfl.gov.uk/Journey/JourneyResults/${origin.center[1]},${origin.center[0]}/to/${destination.center[1]},${destination.center[0]}`)\r\n          setJourneyOptions(data.journeys)\r\n        } catch {\r\n          console.log('Error getting journey planner')\r\n        }\r\n        // Add journey to saved journeys\r\n        if (localStorage.token) {\r\n          const journeyToSave = {\r\n            origin_string: origin.text,\r\n            destination_string: destination.text,\r\n            origin: origin.center,\r\n            destination: destination.center,\r\n          }\r\n          try {\r\n            await axios.post('api/journeys/', journeyToSave, {\r\n              headers: {\r\n                Authorization: `Bearer ${localStorage.token}`,\r\n              },\r\n            })\r\n          } catch (err) {\r\n            console.log(err.request.responseText)\r\n          }\r\n        }\r\n      }\r\n      getJourneyPlanner()\r\n      setRecentSearches([])\r\n    }\r\n  }, [origin, destination, setJourneyOptions, setRecentSearches, currentLocation])\r\n\r\n  // Select the origin or destination from search results list\r\n  const setLocations = (e) => {\r\n    const index = e.target.dataset.key\r\n\r\n    const place = searchResults[index]\r\n\r\n    // Set origin\r\n    if (lastSearched === 'Origin') {\r\n      setOrigin(place)\r\n      if (origin) {\r\n        setOriginSearchDisplay(place.innerHTML)\r\n      }\r\n    // Set destination\r\n    } else if (lastSearched === 'Destination') {\r\n      setDestination(place)\r\n      if (destination) {\r\n        setDestinationSearchDisplay(place.innerHTML)\r\n      }\r\n    }\r\n\r\n    // Reset search terms and results\r\n    setSearchTerm('')\r\n    setSearchResults([])\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div id='searchContainer'>\r\n        <div className=\"search-display\">\r\n          { currentLocation.length > 0 ?\r\n            <h3>Your Location</h3>\r\n            :\r\n            homeLocation.length > 0 ?\r\n              <h3>Home</h3>\r\n              :\r\n              <h3>{ (origin) && origin.text ? origin.text : '-'}</h3>\r\n          }\r\n          <h3 id='to-text'>TO</h3>\r\n          <h3>{ (destination) && destination.text ? destination.text : '-'}</h3>\r\n        </div>\r\n        <div className=\"search origin-search\">\r\n          { currentLocation.length > 0 ?\r\n            <input type=\"text\" placeholder=\"Origin\" value='Your Location' disabled={true} />\r\n            :\r\n            homeLocation.length > 0 ?\r\n              <input type=\"text\" placeholder=\"Origin\" value='Home' disabled={true} />\r\n              :\r\n              <input type=\"text\" placeholder=\"Origin\" onInput={handleInput} id=\"Origin\" value={originSearchDisplay} autoComplete=\"off\" />\r\n          }\r\n          <HomeLocation homeLocation={homeLocation} setHomeLocation={setHomeLocation} setSearchTerm={setSearchTerm} setOriginSearchDisplay={setOriginSearchDisplay} setOrigin={setOrigin} />\r\n          <CurrentLocation currentLocation={currentLocation} setCurrentLocation={setCurrentLocation} setSearchTerm={setSearchTerm} setOriginSearchDisplay={setOriginSearchDisplay} setOrigin={setOrigin} />\r\n        </div>\r\n        <div className=\"search destination-search\">\r\n          <input type=\"text\" placeholder=\"Destination\" onInput={handleInput} id=\"Destination\" value={destinationSearchDisplay} autoComplete=\"off\" />\r\n        </div>\r\n      </div>\r\n      <div className=\"search-results\">\r\n        {searchResults.length > 0 && <h2>Select Your {lastSearched}</h2> }\r\n        {searchResults.length > 0 ? \r\n          searchResults.map((result, i) => {\r\n            return (\r\n              <div className=\"search-result\" key={i} onClick={setLocations} data-key={i}>\r\n                <h3>{result.text}</h3>\r\n                <p>{result.properties.address}</p>\r\n                <p>{result.context[0].text}</p>\r\n              </div>\r\n            )\r\n          })\r\n          :\r\n          <></>\r\n        }\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Search","import React, { useEffect } from 'react'\r\nimport axios from 'axios'\r\n\r\nconst RecentSearches = ({ setOrigin, setDestination, recentSearches, setRecentSearches }) => {\r\n\r\n  useEffect(() => {\r\n    setRecentSearches([])\r\n    const getRecentSearches = async () => {\r\n      try {\r\n        const { data } = await axios.get('api/journeys/owner', {\r\n          headers: {\r\n            Authorization: `Bearer ${localStorage.token}`,\r\n          },\r\n        })\r\n        const reverseChronSearches = data.reverse().slice(0,4)\r\n        setRecentSearches(reverseChronSearches)\r\n      } catch (err) {\r\n        console.log(err.request.responseText)\r\n      }\r\n    }\r\n    if (localStorage.token) {\r\n      getRecentSearches()\r\n    }\r\n  }, [setRecentSearches])\r\n\r\n  const handleSelect = (e) => {\r\n    const selectedOption = e.target.options[e.target.selectedIndex]\r\n    setOrigin({\r\n      origin_string: recentSearches[selectedOption.dataset.index].origin_string,\r\n      destination_string: recentSearches[selectedOption.dataset.index].destination_string,\r\n      center: recentSearches[selectedOption.dataset.index].origin,\r\n    })\r\n    setDestination({\r\n      origin_string: recentSearches[selectedOption.dataset.index].origin_string,\r\n      destination_string: recentSearches[selectedOption.dataset.index].destination_string,\r\n      center: recentSearches[selectedOption.dataset.index].destination,\r\n    })\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {\r\n        (recentSearches && recentSearches.length > 0) && \r\n        <select name=\"recent-searches-select\" id=\"recent-searches-select\" onChange={handleSelect} defaultValue='default'>\r\n          <option disabled={true} value='default'>Recent Searches</option>\r\n          { recentSearches.map((search, i) => {\r\n            return <option key={search.id} data-index={i}>{search.origin_string} to {search.destination_string}</option>\r\n          }) }\r\n        </select>\r\n      }\r\n    </>\r\n  )\r\n}\r\n\r\nexport default RecentSearches","import React, { useEffect } from 'react'\r\nimport RecentSearches from './RecentSearches'\r\n\r\nconst JourneySelector = ({ setJourneyOptions, journeyOptions, setJourney, origin, destination, setDestination, setOrigin, recentSearches, setRecentSearches }) => {\r\n\r\n  const selectJourney = (e) => {\r\n    const journeyId = e.target.dataset.journeyid\r\n    const allJourneys = (e.target.parentNode.children)\r\n    for (let i = 0; i < allJourneys.length; i++) {\r\n      allJourneys[i].classList.remove('selected')\r\n    }\r\n    e.target.classList.add('selected')\r\n    setJourney(journeyOptions[journeyId])\r\n  }\r\n\r\n  useEffect(() => {\r\n    setJourneyOptions([])\r\n  }, [setJourneyOptions])\r\n\r\n  return (\r\n    <>{ (journeyOptions.length === 0 && !localStorage.token) && <div className=\"journey-placeholder\"><h3><i className=\"fas fa-map-marked-alt\"></i></h3></div> }\r\n      { ((origin && destination) && (journeyOptions.length === 0)) ? <div className=\"loader-container\"><div className=\"loader\"></div></div> : <></> }\r\n      <RecentSearches setDestination={setDestination} setOrigin={setOrigin} recentSearches={recentSearches} setRecentSearches={setRecentSearches} />\r\n      { journeyOptions.length > 0 ?\r\n        <div className=\"journey-options-list\">\r\n          { journeyOptions.map((j, i) => {\r\n            return (\r\n              <div className=\"journey-option\" key={i} data-journeyid={i} onClick={selectJourney}>\r\n                <div className=\"journey-details-container\">\r\n                  <div className=\"journey-details\">\r\n                    <h3><i className=\"fas fa-stopwatch\"></i> {j.duration}mins</h3>\r\n                    <h3><i className=\"fas fa-map-marked-alt\"></i> {j.legs.length} legs</h3>\r\n                  </div>\r\n                </div>\r\n                <div className='steps-wrapper'>\r\n                  { j.legs.map((l, i) => {\r\n                    if (l.mode.id === 'walking') {\r\n                      return (\r\n                        <div className='mode-wrapper' key={i}>\r\n                          <div className=\"journey-duration\">\r\n                            <p className=\"leg-names\">{l.departurePoint.commonName}</p>\r\n                            <i className=\"fas fa-walking\"></i>\r\n                            { l.distance && <p>{(l.distance / 1000).toFixed(1)}km</p> }\r\n                          </div>\r\n                          <i className=\"fas fa-caret-right\"></i>\r\n                        </div>\r\n                      )\r\n                    } else if (l.mode.id === 'bus') {\r\n                      return (\r\n                        <div className='mode-wrapper' key={i}>\r\n                          <div className=\"journey-duration\">\r\n                            <p className=\"leg-names\">{l.departurePoint.commonName}</p>\r\n                            <i className=\"fas fa-bus\"></i>\r\n                            <div className=\"bus-route-options\">\r\n                              {l.routeOptions.map((bus, i) => {\r\n                                if (i < l.routeOptions.length - 1) {\r\n                                  return <p key={i}>{bus.name} /</p>\r\n                                } else {\r\n                                  return <p key={i}>{bus.name}</p>\r\n                                }\r\n                              })}\r\n                            </div>\r\n                            <p>{l.path.stopPoints.length} stops</p>\r\n                          </div>\r\n                          <i className=\"fas fa-caret-right\"></i>\r\n                        </div>\r\n                      )\r\n                    } else if (l.mode.id === 'tube') {\r\n                      return (\r\n                        <div className='mode-wrapper' key={i}>\r\n                          <div className=\"journey-duration\">\r\n                            <p className=\"leg-names\">{l.departurePoint.commonName}</p>\r\n                            <i className=\"fas fa-subway\"></i>\r\n                            <p>{l.path.stopPoints.length} stops</p>\r\n                          </div>\r\n                          <i className=\"fas fa-caret-right\"></i>\r\n                        </div>\r\n                      )\r\n                    } else if (l.mode.id === 'national-rail' || l.mode.id === 'tflrail') {\r\n                      return (\r\n                        <div className='mode-wrapper' key={i}>\r\n                          <div className=\"journey-duration\">\r\n                            <p className=\"leg-names\">{l.departurePoint.commonName}</p>\r\n                            <i className=\"fas fa-train\"></i>\r\n                            <p>{l.path.stopPoints.length} stops</p>\r\n                          </div>\r\n                          <i className=\"fas fa-caret-right\"></i>\r\n                        </div>\r\n                      )\r\n                    }\r\n                  }) }\r\n                </div>\r\n              </div>\r\n            )\r\n          }) }\r\n        </div>\r\n        :\r\n        <></>\r\n      }\r\n    </>\r\n  )\r\n}\r\n\r\n\r\nexport default JourneySelector","import React, { useState, useEffect } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport axios from 'axios'\r\n\r\nconst Login = ({ setLoggedIn, setUserHome }) => {\r\n\r\n  // Initialize history object\r\n  const history = useHistory()\r\n\r\n  // Store form data in state\r\n  const [ formData, setFormData ] = useState({})\r\n\r\n  // Reset form data on page load\r\n  useEffect(() => {\r\n    setFormData({})\r\n  }, [setFormData])\r\n\r\n  // Update form data on input\r\n  const handleInput = (e) => {\r\n    setFormData({\r\n      ...formData,\r\n      [e.target.id]: e.target.value,\r\n    })\r\n  }\r\n\r\n  // Send form data to server to register user\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault()\r\n    try {\r\n      const { data } = await axios.post('api/users/login/', formData)\r\n      console.log(data.message)\r\n      localStorage.setItem('token', data.token)\r\n      setLoggedIn(true)\r\n      history.push('/search')\r\n    } catch (err) {\r\n      const errorMessage = err.request.responseText\r\n      console.log(errorMessage)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div id=\"loginWrapper\">\r\n      <h2>Login</h2>\r\n      <form onSubmit={handleSubmit}>\r\n        <input type=\"text\" name=\"username\" id=\"username\" autoComplete=\"username\" placeholder=\"Username\" onInput={handleInput} />\r\n        <input type=\"password\" name=\"password\" id=\"password\" placeholder=\"Password\" autoComplete=\"current-password\" onInput={handleInput} />\r\n        <button type=\"submit\">Login</button>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Login","/* eslint-disable no-unused-vars */\r\nimport React, { useState, useEffect } from 'react'\r\nimport axios from 'axios'\r\n\r\nconst Search = ({ formData, setFormData }) => {\r\n\r\n  const [ searchTerm, setSearchTerm ] = useState('')\r\n  const [ locationSearchDisplay, setLocationSearchDisplay ] = useState('')\r\n  const [ searchResults, setSearchResults ] = useState([])\r\n\r\n  // On page load clear search terms\r\n  useEffect(() => {\r\n    setSearchResults([])\r\n    setSearchTerm('')\r\n  }, [])\r\n\r\n  // Search for place by entering a name\r\n  useEffect(() => {\r\n    const handleSearch = async () => {\r\n      if (searchTerm !== '') {\r\n        const { data } = await axios.get(`https://api.mapbox.com/geocoding/v5/mapbox.places/\r\n          ${searchTerm}.json?bbox=-0.489,51.28,0.236,51.686&types=poi,address,place&access_token=pk.eyJ1IjoiY2xlbW11cnBoeSIsImEiOiJja3V6ZXA4NDMycTVxMnVsbnY4M24ydXczIn0.kwbfg0stv5iXHMcTE4hnzw`)\r\n        setSearchResults(data.features)\r\n      }\r\n    }\r\n    // Search by postcode and add to search results\r\n    const postcodeSearch = async () => {\r\n      const { data } = await axios.get(`https://api.postcodes.io/postcodes/${searchTerm}`)\r\n      const pcText = data.result.postcode\r\n      const pcCenter = [data.result.longitude, data.result.latitude]\r\n      const pcAddress = data.result.parliamentary_constituency\r\n      // Normalise results to search result object format\r\n      const postcodeResult = {\r\n        center: pcCenter,\r\n        text: pcText,\r\n        properties: {\r\n          address: pcAddress,\r\n        },\r\n        context: [\r\n          {\r\n            text: pcText,\r\n          }\r\n        ],\r\n      }\r\n      // Spread into search results\r\n      setSearchResults([...searchResults, postcodeResult])\r\n    }\r\n    handleSearch()\r\n    if (searchTerm.length > 5) {\r\n      postcodeSearch()\r\n    }\r\n  }, [searchTerm, setSearchResults])\r\n\r\n  // Handle search inputs\r\n  const handleInput = (e) => {\r\n    const term = e.target.value\r\n    setSearchTerm(term)\r\n    setLocationSearchDisplay(term)\r\n  }\r\n\r\n  // Select the origin or destination from search results list\r\n  const setLocations = (e) => {\r\n    const key = e.target.dataset.key\r\n    const placeToSet = searchResults[key]\r\n\r\n    const place = placeToSet\r\n\r\n    setFormData({\r\n      ...formData,\r\n      home: place.center,\r\n      homeName: place.text,\r\n    })\r\n    // Reset search terms and results\r\n    setSearchTerm('')\r\n    setSearchResults([])\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div id='searchContainer'>\r\n        <div className=\"search origin-search\">\r\n          <input type=\"text\" placeholder=\"Home Location\" onInput={handleInput} id=\"Origin\" value={locationSearchDisplay} autoComplete=\"off\" />\r\n        </div>\r\n      </div>\r\n      <div className=\"search-results\">\r\n        {formData.home && <h3>Home selected: {formData.homeName}</h3>}\r\n        {searchResults.length > 0 && <h3>Select Your Location</h3> }\r\n        {searchResults.length > 0 ? \r\n          searchResults.map((result, index) => {\r\n            return (\r\n              <div className=\"search-result\" key={index} onClick={setLocations} data-key={index}>\r\n                <h3>{result.text}</h3>\r\n                <p>{result.properties.address}</p>\r\n                <p>{result.context[0].text}</p>\r\n              </div>\r\n            )\r\n          })\r\n          :\r\n          <></>\r\n        }\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Search","import React, { useState, useEffect } from 'react'\r\nimport SingleSearch from './SingleSearch'\r\nimport { useHistory } from 'react-router-dom'\r\nimport axios from 'axios'\r\n\r\nconst Register = () => {\r\n\r\n  // Initialize history object\r\n  const history = useHistory()\r\n\r\n  // Store form data in state\r\n  const [ formData, setFormData ] = useState({})\r\n\r\n  // Reset form data on page load\r\n  useEffect(() => {\r\n    setFormData({})\r\n  }, [setFormData])\r\n\r\n  // Update form data on input\r\n  const handleInput = (e) => {\r\n    setFormData({\r\n      ...formData,\r\n      [e.target.id]: e.target.value,\r\n    })\r\n  }\r\n\r\n  // Send form data to server to register user\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault()\r\n    if (formData.homeName) {\r\n      delete formData.homeName\r\n    }\r\n    console.log('Form data to submit:', formData)\r\n    try {\r\n      await axios.post('api/users/register/', formData)\r\n      console.log('ðŸ‘‹ Registration successful')\r\n      history.push('/login')\r\n    } catch (err) {\r\n      const errorMessage = err.request.responseText\r\n      console.log(errorMessage)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div id=\"registerWrapper\">\r\n      <h2>Register</h2>\r\n      <form onSubmit={handleSubmit}>\r\n        <input type=\"text\" name=\"username\" id=\"username\" autoComplete=\"username\" placeholder=\"Username\" onInput={handleInput} />\r\n        <input type=\"text\" name=\"firstName\" id=\"first_name\" autoComplete=\"given-name\" placeholder=\"First Name\" onInput={handleInput} />\r\n        <input type=\"text\" name=\"lastName\" id=\"last_name\" autoComplete=\"family-name\" placeholder=\"Last Name\" onInput={handleInput} />\r\n        <input type=\"email\" name=\"email\" id=\"email\" autoComplete=\"email\" placeholder=\"Email\" onInput={handleInput} />\r\n        <input type=\"password\" name=\"password\" id=\"password\"autoComplete=\"new-password\" placeholder=\"Password\" onInput={handleInput} />\r\n        <input type=\"password\" name=\"passwordConfirmation\" id=\"password_confirmation\" placeholder=\"Confirm Password\" onInput={handleInput} />\r\n        <SingleSearch setFormData={setFormData} formData={formData} />\r\n        <button type=\"submit\">Register</button>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Register","import dotenv from 'dotenv'\r\ndotenv.config()\r\nimport { useState } from 'react'\r\nimport { BrowserRouter, Switch, Route } from 'react-router-dom'\r\nimport Home from './components/Home'\r\nimport Navbar from './components/Navbar'\r\nimport Footer from './components/Footer'\r\nimport MapRender from './components/MapRender'\r\nimport Search from './components/Search'\r\nimport JourneySelector from './components/JourneySelector'\r\nimport Login from './components/Login'\r\nimport Register from './components/Register'\r\n\r\nfunction App() {\r\n\r\n  const [ journey, setJourney ] = useState({})\r\n  const [ journeyOptions, setJourneyOptions ] = useState([])\r\n  const [ origin, setOrigin ] = useState(null)\r\n  const [ destination, setDestination ] = useState(null)\r\n  const [ recentSearches, setRecentSearches ] = useState([])\r\n  const [ loggedIn, setLoggedIn ] = useState(false)\r\n\r\n  return (\r\n    <div className='site-wrapper'>\r\n      <BrowserRouter>\r\n        <Navbar loggedIn={loggedIn} setLoggedIn={setLoggedIn} />\r\n        <Switch>\r\n          <Route exact path='/'>\r\n            <Home />\r\n          </Route>\r\n          <Route path='/search'>\r\n            <div className=\"search-wrapper\">\r\n              <div className=\"journey-search\">\r\n                <MapRender journey={journey} origin={origin} destination={destination} />\r\n                <Search setJourneyOptions={setJourneyOptions} origin={origin} destination={destination} setDestination={setDestination} setOrigin={setOrigin} recentSearches={recentSearches} setRecentSearches={setRecentSearches} />\r\n              </div>\r\n              <div className='journey-selector'>\r\n                <JourneySelector setJourney={setJourney} setJourneyOptions={setJourneyOptions} journey={journey} journeyOptions={journeyOptions} origin={origin} destination={destination} setDestination={setDestination} setOrigin={setOrigin} recentSearches={recentSearches} setRecentSearches={setRecentSearches} />\r\n              </div>\r\n            </div>\r\n          </Route>\r\n          <Route path='/login'>\r\n            <Login setLoggedIn={setLoggedIn} />\r\n          </Route>\r\n          <Route path='/register'>\r\n            <Register />\r\n          </Route>\r\n        </Switch>\r\n        <Footer />\r\n      </BrowserRouter>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './styles/main.scss'\r\nimport App from './App'\r\n\r\nReactDOM.render(\r\n  <App />,\r\n  document.getElementById('root')\r\n)\r\n"],"sourceRoot":""}